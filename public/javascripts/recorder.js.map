{"version":3,"sources":["webpack:///./src/Recorder.ts","webpack:///../vector-screencast/src/lib/Recorder.ts","webpack:///../vector-screencast/src/lib/Drawing/DynaDraw.ts","webpack:///../vector-screencast/src/lib/AudioData/AudioRecorder.ts","webpack:///../vector-screencast/src/lib/UI/RecorderUI.ts","webpack:///../vector-screencast/src/lib/UI/Buttons.ts","webpack:///../vector-screencast/src/lib/VideoData/selectBestInputMethod.ts","webpack:///../vector-screencast/src/lib/VideoData/WacomTablet.ts","webpack:///../vector-screencast/src/lib/VideoData/Mouse.ts","webpack:///../vector-screencast/src/lib/VideoData/PointingDevice.ts","webpack:///../vector-screencast/src/lib/VideoData/Pointer.ts","webpack:///../vector-screencast/src/lib/VideoData/AppleForceTouch.ts","webpack:///../vector-screencast/src/lib/VideoData/Touch.ts"],"names":[],"mappings":"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","file":"javascripts/recorder.js","sourcesContent":["var Recorder_1 = require('../../vector-screencast/src/lib/Recorder');\n// import styles - uses webpack!\nrequire('../../vector-screencast/src/theme/theme.less');\nvar recorder; // fight the GC!\nwindow.onload = function () {\n    recorder = new Recorder_1.default(\"recorder-root\", {\n        UploadURL: \"/upload\",\n        Audio: {\n            host: \"localhost\",\n            port: 4000,\n            path: \"/\",\n            recordingWorkerPath: \"/javascripts/audio-recording-worker.js\"\n        }\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader?sourceMap!./src/Recorder.ts\n **/","var Video_1 = require('./VideoData/Video');\nvar Chunk_1 = require('./VideoData/Chunk');\nvar Command_1 = require('./VideoData/Command');\nvar DynaDraw_1 = require('./Drawing/DynaDraw');\nvar CanvasDrawer_1 = require('./Drawing/CanvasDrawer');\nvar AudioRecorder_1 = require('./AudioData/AudioRecorder');\nvar VideoEvents_1 = require('./Helpers/VideoEvents');\nvar Errors_1 = require('./Helpers/Errors');\nvar VideoTimer_1 = require('./Helpers/VideoTimer');\nvar Metadata_1 = require('./VideoData/Metadata');\nvar Color_1 = require('./UI/Color');\nvar Brush_1 = require('./UI/Brush');\nvar File_1 = require('./Helpers/File');\nvar IO_1 = require('./VideoFormat/SVGAnimation/IO');\nvar RecorderUI_1 = require('./UI/RecorderUI');\nvar selectBestInputMethod_1 = require('./VideoData/selectBestInputMethod');\n/**\n * The main class responsible for video recording. Recorder creates all the necessary\n * objects and connects them. Recorder captures user's input and actions and stores them\n * and uploads it to the server when the recording is finsihed.\n */\nvar Recorder = (function () {\n    /**\n     * Create a new instance of recorder.\n     * @param   id          ID of the container element\n     * @param\tsttings\t\tUser's own recorder settings\n     */\n    function Recorder(id, settings) {\n        var _this = this;\n        this.id = id;\n        this.settings = settings;\n        this.events = new VideoEvents_1.default();\n        // do not start recording until the user want's to start\n        this.isRecording = false;\n        // create paused stopwatch\n        this.timer = new VideoTimer_1.default(false);\n        // recording is allowed even when not recording - but will be blcoked\n        // when upload starts\n        this.recordingBlocked = false;\n        // prepare data storage\n        this.data = new Video_1.default();\n        this.lastEraseData = 0;\n        // by default record all the data that goes through the recorder\n        this.recordAllRawData = settings.RecordAllRawData !== undefined ? !!settings.RecordAllRawData : true;\n        //\n        // THE UI\n        //\n        // set the colors according to the \n        if (!!settings.DefaultBackgroundColor)\n            Color_1.default.BackgroundColor = settings.DefaultBackgroundColor;\n        if (!!settings.DefaultBrushColor)\n            Color_1.default.ForegroundColor = settings.DefaultBrushColor;\n        // select the container - it must exist\n        var container = document.getElementById(id);\n        if (!container) {\n            Errors_1.default.Report(Errors_1.ErrorType.Fatal, \"Container #\" + id + \" doesn't exist. Video Recorder couldn't be initialised.\");\n            return; // do not start\n        }\n        // reset the contents of the container\n        while (!!container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n        if (!settings.ColorPallete || settings.ColorPallete.length === 0) {\n            // default color pallete\n            var colors = [];\n            colors.push(new Color_1.default(\"#ffffff\"));\n            colors.push(new Color_1.default(\"#fa5959\"));\n            colors.push(new Color_1.default(\"#8cfa59\"));\n            colors.push(new Color_1.default(\"#59a0fa\"));\n            colors.push(new Color_1.default(\"#fbff06\"));\n            colors.push(Color_1.default.BackgroundColor);\n            settings.ColorPallete = colors;\n        }\n        // make sure there is an eraser available in the color pallete:\n        if (!colors.indexOf(Color_1.default.BackgroundColor)) {\n            colors.push(Color_1.default.BackgroundColor); // eraser is just another brush with a color of the background\n        }\n        if (!settings.BrushSizes || settings.BrushSizes.length === 0) {\n            // default brush sizes\n            var brushes = [];\n            brushes.push(new Brush_1.default(2));\n            brushes.push(new Brush_1.default(3));\n            brushes.push(new Brush_1.default(4));\n            brushes.push(new Brush_1.default(6));\n            brushes.push(new Brush_1.default(8));\n            brushes.push(new Brush_1.default(10));\n            brushes.push(new Brush_1.default(15));\n            brushes.push(new Brush_1.default(80));\n            settings.BrushSizes = brushes;\n        }\n        if (!settings.Localization) {\n            // default localization\n            var loc = {\n                NoJS: \"Your browser does not support JavaScript or it is turned off. Video can't be recorded without enabled JavaScript in your browser.\",\n                Busy: \"Preparing recording studio...\",\n                RecPause: \"Control recording\",\n                Record: \"Start\",\n                Pause: \"Pause recording\",\n                Upload: \"Upload\",\n                UploadInProgress: \"Uploading data...\",\n                ChangeColor: \"Change brush color\",\n                ChangeSize: \"Change brush size\",\n                Erase: \"Eraser\",\n                EraseAll: \"Erase everything\",\n                WaitingText: \"Please be patient. Uploading video usually takes some times - up to a few minutes if your video is over ten minutes long. Do not close this tab or browser window.\",\n                UploadWasSuccessful: \"Upload was successful\",\n                RedirectPrompt: \"Upload was successful - press OK to continue\",\n                UploadFailure: \"Upload failed.\",\n                FailureApology: \"We are sorry, but upload failed. Do you want to download your data to your computer instead?\",\n                AudioRecording: \"Audio recording\",\n                AudioRecordingAvailable: \"Audio recording is available\",\n                AudioRecordingUnavailable: \"Audio recording is unavailable\"\n            };\n            settings.Localization = loc;\n        }\n        // Bind video events\n        this.events.on(VideoEvents_1.VideoEventType.ChangeBrushSize, function (size) { return _this.ChangeBrushSize(size); });\n        this.events.on(VideoEvents_1.VideoEventType.ChangeColor, function (color) { return _this.ChangeColor(color); });\n        this.events.on(VideoEvents_1.VideoEventType.CursorState, function (state) { return _this.ProcessCursorState(state); });\n        this.events.on(VideoEvents_1.VideoEventType.ClearCanvas, function (color) { return _this.ClearCanvas(color); });\n        this.events.on(VideoEvents_1.VideoEventType.Start, function () { return _this.Start(); });\n        this.events.on(VideoEvents_1.VideoEventType.Pause, function () { return _this.Pause(); });\n        this.events.on(VideoEvents_1.VideoEventType.StartUpload, function () { return _this.StartUpload(); });\n        this.busyLevel = 0;\n        this.events.on(VideoEvents_1.VideoEventType.Busy, function () { return _this.Busy(); });\n        this.events.on(VideoEvents_1.VideoEventType.Ready, function () { return _this.Ready(); });\n        // Record paths\n        this.events.on(VideoEvents_1.VideoEventType.StartPath, function (path) {\n            _this.PushChunk(new Chunk_1.PathChunk(path, _this.timer.CurrentTime(), _this.lastEraseData));\n            _this.data.CurrentChunk.PushCommand(new Command_1.DrawNextSegment(_this.timer.CurrentTime())); // draw the start dot\n        });\n        this.events.on(VideoEvents_1.VideoEventType.DrawSegment, function () { return _this.data.CurrentChunk.PushCommand(new Command_1.DrawNextSegment(_this.timer.CurrentTime())); });\n        var min = brushes.reduce(function (previousValue, currentValue, index, arr) { return previousValue.Size < currentValue.Size ? previousValue : currentValue; }).Size;\n        var max = brushes.reduce(function (previousValue, currentValue, index, arr) { return previousValue.Size > currentValue.Size ? previousValue : currentValue; }).Size;\n        // the most important part - the rendering and drawing strategy\n        // - default drawing strategy is using SVG\n        this.drawer = !!settings.DrawingStrategy ? settings.DrawingStrategy : new CanvasDrawer_1.default(true);\n        this.drawer.SetEvents(this.events);\n        this.dynaDraw = new DynaDraw_1.default(this.events, function () { return _this.drawer.CreatePath(_this.events); }, !settings.DisableDynamicLineWidth, min, max, this.timer);\n        // create UI\t\t\t\n        this.ui = !!settings.UI ? settings.UI : new RecorderUI_1.default(id, this.events);\n        this.ui.Timer = this.timer;\n        this.ui.Localization = settings.Localization;\n        this.ui.SetBusyText(settings.Localization.Busy);\n        this.ui.CreateHTML(!!settings.Autohide, settings.ColorPallete, settings.BrushSizes);\n        // ...and connect it to the drawer\n        var canvas = this.drawer.CreateCanvas();\n        this.ui.AcceptCanvas(canvas);\n        container.appendChild(this.ui.GetHTML());\n        this.drawer.Stretch(); // adapt to the environment\n        this.pointer = selectBestInputMethod_1.default(this.events, this.ui.GetHTML(), canvas, this.timer);\n        // set default bg color and init the first chunk\n        this.ClearCanvas(Color_1.default.BackgroundColor);\n        // init some values for the brush - user will change it immediately, but some are needed from the very start\n        this.events.trigger(VideoEvents_1.VideoEventType.ChangeColor, Color_1.default.ForegroundColor);\n        this.events.trigger(VideoEvents_1.VideoEventType.ChangeBrushSize, new Brush_1.default(5));\n        // init audio recording - this will block the browser, so it is done after\n        // the canvas is stretched\n        if (!!settings.Audio) {\n            this.audioRecorder = new AudioRecorder_1.default(settings.Audio, this.events);\n            this.audioRecorder.Init();\n        }\n    }\n    Object.defineProperty(Recorder.prototype, \"Events\", {\n        get: function () { return this.events; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Start recording. Everything must be initialised\n     * and from this moment all data must be stored properly.\n     */\n    Recorder.prototype.Start = function () {\n        if (this.isRecording === false) {\n            this.isRecording = true;\n            this.PushChunk(new Chunk_1.VoidChunk(this.timer.CurrentTime(), this.lastEraseData));\n            this.timer.Resume();\n            if (this.audioRecorder) {\n                this.audioRecorder.Start();\n            }\n        }\n    };\n    /**\n     * Pause recording. Do not record data temporarily.\n     */\n    Recorder.prototype.Pause = function () {\n        if (this.isRecording === true) {\n            this.isRecording = false;\n            this.PushChunk(new Chunk_1.VoidChunk(this.timer.CurrentTime(), this.lastEraseData));\n            this.timer.Pause();\n            if (this.audioRecorder) {\n                this.audioRecorder.Pause();\n            }\n        }\n    };\n    /**\n     * Stop recording and upload the recorded data.\n     */\n    Recorder.prototype.StartUpload = function () {\n        var _this = this;\n        // do not record any new data\n        this.recordingBlocked = true;\n        // prepare metadata based on current status\n        var info = new Metadata_1.default();\n        info.Length = this.timer.CurrentTime();\n        info.Width = this.ui.Width;\n        info.Height = this.ui.Height;\n        info.AudioTracks = [];\n        this.data.Metadata = info;\n        if (!!this.audioRecorder\n            && this.audioRecorder.isRecording()) {\n            this.audioRecorder.Stop(function (files) {\n                _this.data.Metadata.AudioTracks = files;\n                _this.UploadData();\n            }, function () {\n                _this.FinishRecording(false); // upload of audio failed\n            });\n        }\n        else {\n            // there was no audio\n            this.UploadData();\n        }\n    };\n    /**\n     * User want's to change brush thickness.\n     * @param\tsize\tNew brush size\n     */\n    Recorder.prototype.ChangeBrushSize = function (size) {\n        // User can change the size even if recording hasn't started or is paused\n        !this.recordingBlocked && this.data.CurrentChunk.PushCommand(new Command_1.ChangeBrushSize(size, this.timer.CurrentTime()));\n        this.dynaDraw.SetBrushSize(size);\n    };\n    /**\n     * User want's to change brush color.\n     * @param\tcolo\tNew brush color\n     */\n    Recorder.prototype.ChangeColor = function (color) {\n        // User can change the color even if recording hasn't started or is paused\n        !this.recordingBlocked && this.data.CurrentChunk.PushCommand(new Command_1.ChangeBrushColor(color, this.timer.CurrentTime()));\n        this.drawer.SetCurrentColor(color);\n    };\n    /**\n     * User moved the mouse or a digital pen.\n     */\n    Recorder.prototype.ProcessCursorState = function (state) {\n        // record cursor movement only if the video recording isn't over (already uploading)\n        // or the recording is currently running or all raw data should be captured\n        !this.recordingBlocked\n            && (this.recordAllRawData || this.isRecording) // zero pressure will be omitted in the output\n            && this.data.CurrentChunk.PushCommand(new Command_1.MoveCursor(state.X, state.Y, this.recordAllRawData ? state.Pressure : 0, this.timer.CurrentTime()));\n        this.dynaDraw.ObserveCursorMovement(state);\n    };\n    /**\n     * User moved the mouse or a digital pen.\n     */\n    Recorder.prototype.ClearCanvas = function (color) {\n        // add data only if recording is in progress\n        var time = this.timer.CurrentTime();\n        this.lastEraseData = this.PushChunk(new Chunk_1.EraseChunk(color, time, this.lastEraseData));\n        this.data.CurrentChunk.PushCommand(new Command_1.ClearCanvas(color, time));\n        this.drawer.ClearCanvas(color);\n    };\n    /**\n     * Record new push command.\n     */\n    Recorder.prototype.PushChunk = function (chunk) {\n        // now push it\n        return this.data.PushChunk(chunk);\n    };\n    /**\n     * Somethimg is taking long time -- probably downloading xml or audio files\n     */\n    Recorder.prototype.Busy = function () {\n        this.busyLevel++;\n        this.wasRecordingWhenBusy = this.wasRecordingWhenBusy || this.isRecording;\n        this.events.trigger(VideoEvents_1.VideoEventType.Pause);\n        this.ui.Busy();\n    };\n    /**\n    * The thing that instructed\n    */\n    Recorder.prototype.Ready = function () {\n        if (--this.busyLevel === 0) {\n            if (this.wasRecordingWhenBusy === true) {\n                this.events.trigger(VideoEvents_1.VideoEventType.Start);\n                this.wasRecordingWhenBusy = false;\n            }\n            this.ui.Ready();\n        }\n    };\n    //\n    // Upload the result\n    //\n    /**\n     * Upload the recorded data to the server.\n     * @param\tinfo\tInformation about the video.\n     */\n    Recorder.prototype.UploadData = function () {\n        var _this = this;\n        // get the recorded XML\n        var writer = !!this.settings.VideoFormat ? this.settings.VideoFormat : new IO_1.default();\n        var videoBlob = writer.SaveVideo(this.data);\n        console.log(videoBlob);\n        // if I need saving the data to local computer in the future\n        this.events.on(VideoEvents_1.VideoEventType.DownloadData, function () {\n            File_1.default.Download(videoBlob, \"recorded-animation.\" + writer.GetExtension());\n        });\n        this.ui.SetBusyText(this.settings.Localization.UploadInProgress);\n        this.events.trigger(VideoEvents_1.VideoEventType.Busy);\n        // Upload the data via POST Ajax request\n        var formData = new FormData();\n        formData.append(\"extension\", writer.GetExtension());\n        formData.append(\"file\", videoBlob);\n        var req = new XMLHttpRequest(); // remove the \"_fix\" when next version of TypeScript fixes this but: https://github.com/Microsoft/TypeScript/issues/3002\n        req.open(\"POST\", this.settings.UploadURL, true); // async post request\t\t\t\n        req.onerror = function (e) { return _this.FinishRecording(false); }; // upload failed\n        req.onload = function (e) {\n            var response = JSON.parse(req.response);\n            if (req.status === 200 // HTTP code 200 === success\n                && response.hasOwnProperty(\"success\")\n                && response.success === true) {\n                var url = response.hasOwnProperty(\"redirect\") ? response.redirect : false;\n                _this.FinishRecording(true, url);\n            }\n            else {\n                _this.FinishRecording(false); // upload failed\n            }\n        };\n        req.send(formData);\n    };\n    /**\n     * Redirect the user after successfully finishing recording.\n     * Nothing is returned, if everything is OK and the user agrees\n     * then user is redirected to the player to check his recording.\n     *\n     * @param  success\tWas the whole process successful?\n     * @param  url \t\tUrl to be redirected to\n     */\n    Recorder.prototype.FinishRecording = function (success, url) {\n        if (success === true) {\n            this.ui.SetBusyText(this.settings.Localization.UploadWasSuccessful);\n            if (typeof url === \"string\") {\n                if (confirm(this.settings.Localization.RedirectPrompt)) {\n                    window.location.replace(url);\n                }\n            }\n            else {\n                alert(this.settings.Localization.UploadWasSuccessful);\n            }\n        }\n        else {\n            this.ui.SetBusyText(this.settings.Localization.UploadFailure);\n            if (confirm(this.settings.Localization.FailureApology)) {\n                // download all the recorded data locally\n                this.events.trigger(VideoEvents_1.VideoEventType.DownloadData);\n            }\n        }\n    };\n    return Recorder;\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Recorder;\n//} \n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader?sourceMap!../vector-screencast/src/lib/Recorder.ts\n **/","var Vector_1 = require('../Helpers/Vector');\nvar VideoEvents_1 = require('../Helpers/VideoEvents');\nvar DynaDraw = (function () {\n    function DynaDraw(events, pathFactory, slowSimulation, minBrushSize, maxBrushSize, timer) {\n        var _this = this;\n        this.events = events;\n        this.pathFactory = pathFactory;\n        this.slowSimulation = slowSimulation;\n        this.minBrushSize = minBrushSize;\n        this.maxBrushSize = maxBrushSize;\n        this.minMass = 1;\n        this.maxMass = 10;\n        this.minFriction = 0.4;\n        this.maxFriction = 0.6;\n        this.brushes = {};\n        this.oneFrame = 1000 / 60;\n        this.cursor = new BrushTip(true, timer);\n        if (slowSimulation === true) {\n            requestAnimationFrame(function (time) {\n                _this.lastAnimationTime = time;\n                _this.Tick(time);\n            });\n        }\n        else {\n            requestAnimationFrame(function () { return _this.TickWhile(); });\n        }\n    }\n    DynaDraw.prototype.SetBrushSize = function (size) {\n        this.currentBrushSize = size;\n    };\n    DynaDraw.prototype.interpolateMass = function (brushSize) {\n        return this.minMass + (this.maxMass - this.minMass) * (brushSize - this.minBrushSize) / (this.maxBrushSize - this.minBrushSize);\n    };\n    DynaDraw.prototype.interpolateFriction = function (brushSize) {\n        return this.maxFriction - (this.maxFriction - this.minFriction) * (brushSize - this.minBrushSize) / (this.maxBrushSize - this.minBrushSize);\n    };\n    DynaDraw.prototype.GetBrush = function (brushSize) {\n        if (!this.brushes[brushSize]) {\n            this.brushes[brushSize] = new BrushInstance(this.interpolateMass(brushSize), this.interpolateFriction(brushSize), brushSize);\n        }\n        return this.brushes[brushSize];\n    };\n    DynaDraw.prototype.ObserveCursorMovement = function (cursor) {\n        try {\n            var nextPoint = new Vector_1.default(cursor.X, cursor.Y);\n            if (cursor.Pressure > 0) {\n                if (!this.lastState || this.lastState.Pressure === 0) {\n                    this.path = this.pathFactory();\n                    this.events.trigger(VideoEvents_1.VideoEventType.StartPath, this.path);\n                    this.StartPath(nextPoint, cursor.Pressure);\n                }\n                else {\n                    this.NextPoint(nextPoint, cursor.Pressure);\n                }\n            }\n            else if (this.lastState && this.lastState.Pressure > 0) {\n                this.EndPath(nextPoint, this.lastState.Pressure);\n            }\n        }\n        catch (err) {\n            console.log(\"ProcessNewState error: \", err);\n        }\n        this.lastState = cursor;\n    };\n    DynaDraw.prototype.StartPath = function (position, pressure) {\n        this.cursor.Reset(position, this.GetBrush(this.currentBrushSize.Size));\n        this.position = position;\n        this.pressure = pressure;\n        this.cursor.StartPath(this.path, position, pressure);\n    };\n    DynaDraw.prototype.NextPoint = function (position, pressure) {\n        this.position = position;\n        this.pressure = pressure;\n    };\n    DynaDraw.prototype.EndPath = function (position, pressure) {\n        this.position = position;\n    };\n    DynaDraw.prototype.TickWhile = function () {\n        var _this = this;\n        if (!!this.position) {\n            var d2 = 0;\n            var step = 0;\n            do {\n                d2 = this.cursor.ApplyForce(this.position);\n                step += d2;\n                if (step > this.currentBrushSize.Size) {\n                    this.cursor.Draw(this.path, this.pressure);\n                    step = 0;\n                }\n            } while (d2 > 0);\n            if (step > 0) {\n                this.cursor.Draw(this.path, this.pressure);\n            }\n            this.position = null;\n        }\n        requestAnimationFrame(function (time) { return _this.TickWhile(); });\n    };\n    DynaDraw.prototype.Tick = function (time) {\n        var _this = this;\n        if (!!this.path) {\n            if (this.cursor.ApplyForce(this.position) > 0) {\n                this.cursor.Draw(this.path, this.pressure);\n            }\n            else {\n                if (!this.position) {\n                    this.path = null;\n                }\n            }\n        }\n        this.lastAnimationTime = time;\n        requestAnimationFrame(function (time) { return _this.Tick(time); });\n    };\n    return DynaDraw;\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DynaDraw;\nvar BrushInstance = (function () {\n    function BrushInstance(mass, friction, size) {\n        this.mass = mass;\n        this.friction = friction;\n        this.size = size;\n    }\n    Object.defineProperty(BrushInstance.prototype, \"Mass\", {\n        get: function () { return this.mass; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BrushInstance.prototype, \"Friction\", {\n        get: function () { return this.friction; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BrushInstance.prototype, \"Size\", {\n        get: function () { return this.size; },\n        enumerable: true,\n        configurable: true\n    });\n    return BrushInstance;\n})();\nvar Threshold;\n(function (Threshold) {\n    Threshold[Threshold[\"Velocity\"] = 1] = \"Velocity\";\n})(Threshold || (Threshold = {}));\nvar BrushTip = (function () {\n    function BrushTip(calculateSpeed, timer) {\n        this.calculateSpeed = calculateSpeed;\n        this.timer = timer;\n    }\n    BrushTip.prototype.Reset = function (position, brush) {\n        this.brush = brush;\n        this.position = position.clone();\n        this.startPosition = position.clone();\n        this.previousPosition = position.clone();\n        this.previousPressure = -1;\n        this.mousePosition = position.clone();\n        this.acceleration = new Vector_1.default(0, 0);\n        this.velocity = new Vector_1.default(0, 0);\n        this.firstSegment = true;\n    };\n    BrushTip.prototype.ApplyForce = function (mouse) {\n        if (mouse !== null) {\n            var force = mouse.clone().subtract(this.position);\n            this.acceleration = force.clone().scale(1 / this.brush.Mass);\n            this.velocity.add(this.acceleration);\n            this.mousePosition = mouse;\n        }\n        this.velocity.scale(1 - this.brush.Friction);\n        if (this.velocity.getSizeSq() < 1) {\n            return 0;\n        }\n        mouse = null;\n        force = null;\n        this.acceleration = null;\n        this.angle = this.velocity.getNormal();\n        this.position.add(this.velocity);\n        return this.velocity.getSizeSq();\n    };\n    BrushTip.prototype.Draw = function (path, pressure) {\n        var relativeSpeed = this.calculateSpeed === true ? this.velocity.getSize() / (this.brush.Size * this.brush.Size) : 0;\n        var width = this.getRadius(pressure, relativeSpeed);\n        this.angle.scale(width);\n        if (this.firstSegment) {\n            path.InitPath(this.startPosition.clone().add(this.angle), this.startPosition.clone().subtract(this.angle));\n            this.firstSegment = false;\n        }\n        path.ExtendPath(this.position.clone().add(this.angle), this.position.clone().subtract(this.angle));\n        path.Draw();\n    };\n    BrushTip.prototype.StartPath = function (path, pt, pressure) {\n        path.StartPath(pt, this.getRadius(pressure, 0));\n    };\n    BrushTip.prototype.getRadius = function (pressure, speed) {\n        if (this.previousPressure < 0)\n            this.previousPressure = pressure;\n        var interpolatedPressure = this.interpolatePressure(pressure);\n        var radius = this.speedFactor(speed) * this.brush.Size * interpolatedPressure / 2;\n        this.previousPosition = this.position.clone();\n        this.previousPressure = interpolatedPressure;\n        return radius;\n    };\n    BrushTip.prototype.interpolatePressure = function (mousePressure) {\n        var d1 = this.position.distanceTo(this.previousPosition);\n        var d2 = this.position.distanceTo(this.mousePosition);\n        if (d1 === 0 && d2 === 0) {\n            return mousePressure;\n        }\n        return (d1 / (d1 + d2)) * (mousePressure - this.previousPressure) + this.previousPressure;\n    };\n    BrushTip.prototype.speedFactor = function (speed) {\n        return Math.max(1 - speed, 0.4);\n    };\n    BrushTip.threshold = 0.001;\n    return BrushTip;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/Drawing/DynaDraw.ts\n **/","/// <reference path=\"audio.d.ts\" />\nvar VideoEvents_1 = require('../Helpers/VideoEvents');\nvar Errors_1 = require('../Helpers/Errors');\nvar AudioPlayer_1 = require('./AudioPlayer');\nvar AudioRecorder = (function () {\n    function AudioRecorder(config, events) {\n        var _this = this;\n        this.events = events;\n        this.recording = false;\n        this.initSuccessful = false;\n        this.doNotStartRecording = false;\n        this.settings = {\n            host: \"http://localhost\",\n            port: 4000,\n            path: \"/upload/audio\",\n            recordingWorkerPath: \"/js/workers/RecordingWorker.js\"\n        };\n        if (!!config.host)\n            this.settings.host = config.host;\n        if (!!config.port)\n            this.settings.port = config.port;\n        if (!!config.path)\n            this.settings.path = config.path;\n        if (!!config.recordingWorkerPath)\n            this.settings.recordingWorkerPath = config.recordingWorkerPath;\n        this.recording = false;\n        this.muted = false;\n        this.events.on(VideoEvents_1.VideoEventType.MuteAudioRecording, function () { return _this.muted = !_this.muted; });\n        this.error = function (msg) { return console.log(\"AudioRecorder error: \", msg); };\n        this.success = function (msg) { return console.log(\"AudioRecorder success: \", msg); };\n    }\n    AudioRecorder.prototype.Init = function (success) {\n        var _this = this;\n        navigator.getUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia);\n        if (!!navigator.getUserMedia && window.hasOwnProperty(\"AudioContext\")) {\n            var context = (new AudioContext()\n                || null);\n            this.events.trigger(VideoEvents_1.VideoEventType.Busy);\n            navigator.getUserMedia({\n                video: false,\n                audio: true\n            }, function (localMediaStream) {\n                if (_this.doNotStartRecording === false) {\n                    _this.input = context.createMediaStreamSource(localMediaStream);\n                    var bufferSize = 2048;\n                    _this.scriptProcessorNode = context.createScriptProcessor(bufferSize, 1, 1);\n                    _this.scriptProcessorNode.onaudioprocess = function (data) { return _this.processData(data); };\n                    _this.input.connect(_this.scriptProcessorNode);\n                    _this.scriptProcessorNode.connect(context.destination);\n                    _this.initSuccessful = true;\n                    _this.CreateAudioProcessor(\"web-socket\", _this.settings, function () { return console.log(\"Audio recording is ready.\"); });\n                    if (!!success) {\n                        success();\n                    }\n                    _this.events.trigger(VideoEvents_1.VideoEventType.AudioRecordingAvailable);\n                    _this.events.trigger(VideoEvents_1.VideoEventType.RegisterRecordingTool, \"audio-recorder\");\n                    _this.events.trigger(VideoEvents_1.VideoEventType.Ready);\n                }\n            }, function (err) {\n                if (err.name === \"PermissionDeniedError\") {\n                    Errors_1.default.Report(Errors_1.ErrorType.Warning, \"User didn't allow microphone recording.\");\n                }\n                Errors_1.default.Report(Errors_1.ErrorType.Warning, \"Can't record audio\", err);\n                _this.events.trigger(VideoEvents_1.VideoEventType.AudioRecordingUnavailable);\n                _this.events.trigger(VideoEvents_1.VideoEventType.Ready);\n            });\n        }\n        else {\n            console.log(\"getUserMedia not supported by the browser\");\n            Errors_1.default.Report(Errors_1.ErrorType.Warning, \"getUserMedia not supported by the browser\");\n            this.events.trigger(VideoEvents_1.VideoEventType.AudioRecordingUnavailable);\n        }\n    };\n    AudioRecorder.prototype.CreateAudioProcessor = function (processorType, cfg, success, error) {\n        var _this = this;\n        if (Worker) {\n            this.recordingWorker = new Worker(cfg.recordingWorkerPath);\n            this.recordingWorker.onmessage = function (e) { return _this.ReceiveMessageFromWorker(e); };\n            this.recordingWorker.postMessage({\n                cmd: \"init\",\n                AudioProcessorType: processorType || \"web-sockets\",\n                port: cfg.port,\n                host: cfg.host,\n                path: cfg.path\n            });\n            if (!!success) {\n                success();\n            }\n        }\n        else {\n            Errors_1.default.Report(Errors_1.ErrorType.Fatal, \"No web workers support - this feature is not supported by the browser.\");\n            if (!!error) {\n                error();\n            }\n        }\n    };\n    AudioRecorder.prototype.Start = function () {\n        if (this.initSuccessful === true) {\n            if (!this.recordingWorker) {\n                Errors_1.default.Report(Errors_1.ErrorType.Fatal, \"No audio processor was set.\");\n                return false;\n            }\n            else {\n                this.recording = true;\n                return true;\n            }\n        }\n        else {\n            this.doNotStartRecording = true;\n            return false;\n        }\n    };\n    AudioRecorder.prototype.Continue = function () {\n        if (this.initSuccessful) {\n            if (!this.recordingWorker) {\n                Errors_1.default.Report(Errors_1.ErrorType.Fatal, \"No audio processor was set.\");\n                return false;\n            }\n            else {\n                this.recording = true;\n                return true;\n            }\n        }\n        else {\n        }\n        return false;\n    };\n    AudioRecorder.prototype.Pause = function () {\n        if (this.initSuccessful) {\n            this.recording = false;\n            return true;\n        }\n        else {\n        }\n        return false;\n    };\n    AudioRecorder.prototype.Stop = function (success, error) {\n        this.success = success;\n        this.error = error;\n        if (this.initSuccessful === true) {\n            if (this.Pause()) {\n                if (this.recordingWorker) {\n                    this.recordingWorker.postMessage({\n                        cmd: \"finish\"\n                    });\n                }\n            }\n        }\n        else {\n            Errors_1.default.Report(Errors_1.ErrorType.Warning, \"Can't stop AudioRecorder - it wasn't ever initialised.\");\n            error();\n        }\n    };\n    AudioRecorder.prototype.isRecording = function () {\n        return this.initSuccessful;\n    };\n    AudioRecorder.prototype.processData = function (data) {\n        if (this.recording === false) {\n            return;\n        }\n        var left = data.inputBuffer.getChannelData(0);\n        if (this.muted) {\n            for (var i = 0; i < left.length; i++) {\n                left[i] = 0;\n            }\n        }\n        if (this.recordingWorker) {\n            this.recordingWorker.postMessage({\n                cmd: \"pushData\",\n                data: left\n            });\n        }\n    };\n    AudioRecorder.prototype.ReceiveMessageFromWorker = function (e) {\n        var msg = e.data;\n        if (!msg.hasOwnProperty(\"type\")) {\n            console.log(\"Worker response is invalid (missing property 'type')\", e.data);\n            this.error(\"AudioRecorder received invalid message from the worker.\");\n            return;\n        }\n        switch (msg.type) {\n            case \"error\":\n                this.error(msg.msg);\n            case \"network-error\":\n                this.WorkerNetworkError();\n                break;\n            case \"finished\":\n                this.WorkerFinished(msg);\n                break;\n            default:\n                console.log(\"Unknown message type: \", msg.type, msg);\n                break;\n        }\n    };\n    AudioRecorder.prototype.WorkerFinished = function (msg) {\n        this.recordingWorker.terminate();\n        this.recordingWorker = null;\n        this.events.trigger(VideoEvents_1.VideoEventType.RecordingToolFinished, \"audio-recorder\");\n        var sources = [];\n        for (var i = 0; i < msg.files.length; i++) {\n            var file = msg.files[i];\n            var source = new AudioPlayer_1.AudioSource(file.url, AudioPlayer_1.AudioSource.StringToType(file.type));\n            sources.push(source);\n        }\n        this.success(sources);\n    };\n    AudioRecorder.prototype.WorkerNetworkError = function () {\n        this.events.trigger(VideoEvents_1.VideoEventType.AudioRecordingUnavailable);\n    };\n    return AudioRecorder;\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = AudioRecorder;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/AudioData/AudioRecorder.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar VideoEvents_1 = require('../Helpers/VideoEvents');\nvar HTML_1 = require('../Helpers/HTML');\nvar HelperFunctions_1 = require('../Helpers/HelperFunctions');\nvar BasicElements_1 = require('./BasicElements');\nvar Buttons_1 = require('./Buttons');\nvar Board_1 = require('./Board');\nvar Color_1 = require('../UI/Color');\nvar RecorderUI = (function (_super) {\n    __extends(RecorderUI, _super);\n    function RecorderUI(id, events) {\n        _super.call(this, \"div\", id + \"-recorder\");\n        this.id = id;\n        this.events = events;\n        this.tickingInterval = 100;\n        this.AddClass(\"vector-video-wrapper\");\n        this.isRecording = false;\n        this.isBusy = false;\n        this.micIsMuted = false;\n    }\n    Object.defineProperty(RecorderUI.prototype, \"Width\", {\n        get: function () {\n            return this.board.Width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecorderUI.prototype, \"Height\", {\n        get: function () {\n            return this.board.Height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecorderUI.prototype, \"BackgroundColor\", {\n        get: function () {\n            return Color_1.default.BackgroundColor.CssValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RecorderUI.prototype.CreateHTML = function (autohide, colorPallete, brushSizes) {\n        this.board = this.CreateBoard();\n        this.controls = new BasicElements_1.Panel(\"div\", this.id + \"-controls\")\n            .AddChildren(this.CreateButtonsPanel().AddClass(\"ui-controls-panel\"), this.CreateColorsPanel(colorPallete).AddClass(\"ui-controls-panel\"), this.CreateBrushSizesPanel(brushSizes).AddClass(\"ui-controls-panel\"), this.CreateEraserPanel().AddClass(\"ui-controls-panel\"), this.CreateEraseAllPanel().AddClass(\"ui-controls-panel\"), this.CreateMicPanel().AddClass(\"ui-controls-panel\"))\n            .AddClasses(\"ui-controls\", \"ui-control\");\n        !!autohide && this.controls.AddClass(\"autohide\");\n        this.AddChildren(this.board, new BasicElements_1.Panel(\"div\").AddClass(\"ui-controls-wrapper\")\n            .AddChild(this.controls));\n    };\n    RecorderUI.prototype.Busy = function () {\n        this.AddClass(\"busy\");\n        this.isBusy = true;\n    };\n    RecorderUI.prototype.Ready = function () {\n        this.RemoveClass(\"busy\");\n        this.isBusy = false;\n    };\n    RecorderUI.prototype.SetBusyText = function (text) {\n        HTML_1.default.SetAttributes(this.GetHTML(), { \"data-busy-string\": text });\n    };\n    RecorderUI.prototype.AcceptCanvas = function (canvas) {\n        this.board.GetHTML().appendChild(canvas);\n    };\n    RecorderUI.prototype.CreateBoard = function () {\n        var board = new Board_1.default(this.id + \"-board\", this.events);\n        return board;\n    };\n    RecorderUI.prototype.CreateButtonsPanel = function () {\n        var _this = this;\n        var buttonsPanel = new BasicElements_1.Panel(\"div\", this.id + \"-panels\");\n        this.recPauseButton = new BasicElements_1.IconButton(\"icon-rec\", this.Localization.Record, function (e) { return _this.RecordPause(); });\n        this.uploadButton = new BasicElements_1.IconButton(\"icon-upload\", this.Localization.Upload, function (e) { return _this.InitializeUpload(); });\n        HTML_1.default.SetAttributes(this.uploadButton.GetHTML(), { \"disabled\": \"disabled\" });\n        buttonsPanel.AddChildren(new BasicElements_1.H2(this.Localization.RecPause), new BasicElements_1.Panel(\"div\").AddClass(\"btn-group\")\n            .AddChildren(this.recPauseButton, this.uploadButton));\n        return buttonsPanel;\n    };\n    RecorderUI.prototype.RecordPause = function () {\n        if (this.isRecording === true) {\n            this.PauseRecording();\n            this.uploadButton.GetHTML().removeAttribute(\"disabled\");\n            this.RemoveClass(\"recording\");\n        }\n        else {\n            this.StartRecording();\n            HTML_1.default.SetAttributes(this.uploadButton.GetHTML(), { \"disabled\": \"disabled\" });\n            this.AddClass(\"recording\");\n        }\n    };\n    RecorderUI.prototype.StartRecording = function () {\n        var _this = this;\n        if (this.isRecording === false) {\n            this.isRecording = true;\n            this.recPauseButton.ChangeIcon(\"icon-pause\");\n            this.board.IsRecording = true;\n            this.ticking = setInterval(function () { return _this.Tick(); }, this.tickingInterval);\n            this.events.trigger(VideoEvents_1.VideoEventType.Start);\n        }\n    };\n    RecorderUI.prototype.PauseRecording = function () {\n        if (this.isRecording === true) {\n            this.isRecording = false;\n            this.recPauseButton.ChangeIcon(\"icon-rec\");\n            this.board.IsRecording = false;\n            clearInterval(this.ticking);\n            this.events.trigger(VideoEvents_1.VideoEventType.Pause);\n        }\n    };\n    RecorderUI.prototype.Tick = function () {\n        this.recPauseButton.ChangeContent(HelperFunctions_1.millisecondsToString(this.Timer.CurrentTime()));\n    };\n    RecorderUI.prototype.InitializeUpload = function () {\n        HTML_1.default.SetAttributes(this.recPauseButton.GetHTML(), { \"disabled\": \"disabled\" });\n        HTML_1.default.SetAttributes(this.uploadButton.GetHTML(), { \"disabled\": \"disabled\" });\n        this.events.trigger(VideoEvents_1.VideoEventType.StartUpload);\n    };\n    RecorderUI.prototype.CreateColorsPanel = function (colorPallete) {\n        var colorsGroup = new BasicElements_1.Panel(\"div\").AddClass(\"btn-group\");\n        for (var i = 0; i < colorPallete.length; i++) {\n            var btn = new Buttons_1.ChangeColorButton(this.events, colorPallete[i]);\n            colorsGroup.AddChild(btn);\n        }\n        return new BasicElements_1.Panel(\"div\")\n            .AddClass(\"color-pallete\")\n            .AddChildren(new BasicElements_1.H2(this.Localization.ChangeColor), colorsGroup);\n    };\n    RecorderUI.prototype.CreateBrushSizesPanel = function (brushSizes) {\n        var sizesGroup = new BasicElements_1.Panel(\"div\").AddClass(\"btn-group\");\n        for (var i = 0; i < brushSizes.length; i++) {\n            sizesGroup.AddChild(new Buttons_1.ChangeBrushSizeButton(this.events, brushSizes[i]));\n        }\n        return new BasicElements_1.Panel(\"div\")\n            .AddClass(\"brush-sizes\")\n            .AddChildren(new BasicElements_1.H2(this.Localization.ChangeSize), sizesGroup);\n    };\n    RecorderUI.prototype.CreateEraserPanel = function () {\n        this.switchToEraserButton = new Buttons_1.ChangeColorButton(this.events, Color_1.default.BackgroundColor);\n        return new BasicElements_1.Panel(\"div\", this.id + \"-erase\")\n            .AddChildren(new BasicElements_1.H2(this.Localization.Erase), this.switchToEraserButton);\n    };\n    RecorderUI.prototype.CreateEraseAllPanel = function () {\n        var _this = this;\n        var panel = new BasicElements_1.Panel(\"div\", this.id + \"-erase\");\n        var title = new BasicElements_1.H2(this.Localization.EraseAll);\n        panel.AddChild(title);\n        this.eraseAllButton = new Buttons_1.ChangeColorButton(this.events, Color_1.default.BackgroundColor, function () { return _this.EraseAll(); });\n        this.events.on(VideoEvents_1.VideoEventType.ChangeColor, function (color) {\n            _this.currentColor = color;\n            _this.eraseAllButton.SetColor(color);\n        });\n        panel.AddChild(this.eraseAllButton);\n        return panel;\n    };\n    RecorderUI.prototype.EraseAll = function () {\n        this.events.trigger(VideoEvents_1.VideoEventType.ClearCanvas, this.currentColor);\n        this.switchToEraserButton.SetColor(this.currentColor);\n    };\n    RecorderUI.prototype.CreateMicPanel = function () {\n        var _this = this;\n        this.micButton = new BasicElements_1.IconOnlyButton(\"icon-mic-off\", this.Localization.AudioRecordingUnavailable, function () { return _this.MuteMic(); });\n        HTML_1.default.SetAttributes(this.micButton.GetHTML(), { disabled: \"disabled\" });\n        this.events.on(VideoEvents_1.VideoEventType.AudioRecordingAvailable, function () {\n            _this.micButton.GetHTML().removeAttribute(\"disabled\");\n            if (!_this.micIsMuted) {\n                _this.micButton.ChangeIcon(\"icon-mic\").ChangeContent(_this.Localization.AudioRecordingAvailable);\n            }\n        });\n        this.events.on(VideoEvents_1.VideoEventType.AudioRecordingUnavailable, function () {\n            _this.micButton.ChangeIcon(\"icon-mic-off\").ChangeContent(_this.Localization.AudioRecordingUnavailable);\n            HTML_1.default.SetAttributes(_this.micButton.GetHTML(), { disabled: \"disabled\" });\n        });\n        return new BasicElements_1.Panel(\"div\").AddChildren(new BasicElements_1.H2(this.Localization.AudioRecording), this.micButton);\n    };\n    RecorderUI.prototype.MuteMic = function () {\n        this.events.trigger(VideoEvents_1.VideoEventType.MuteAudioRecording);\n        this.micIsMuted = !this.micIsMuted;\n        if (this.micIsMuted) {\n            this.micButton.ChangeIcon(\"icon-mic-off\");\n        }\n        else {\n            this.micButton.ChangeIcon(\"icon-mic\");\n        }\n    };\n    return RecorderUI;\n})(BasicElements_1.Panel);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RecorderUI;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/UI/RecorderUI.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar BasicElements_1 = require('./BasicElements');\nvar VideoEvents_1 = require('../Helpers/VideoEvents');\nvar HTML_1 = require('../Helpers/HTML');\nvar ChangeColorButton = (function (_super) {\n    __extends(ChangeColorButton, _super);\n    function ChangeColorButton(events, color, callback) {\n        var _this = this;\n        _super.call(this, \"\");\n        this.events = events;\n        this.SetColor(color);\n        this.GetHTML().onclick = function (e) { return !!callback ? callback() : _this.ChangeColor(e); };\n    }\n    ChangeColorButton.prototype.ChangeColor = function (e) {\n        if (!!ChangeColorButton.active) {\n            ChangeColorButton.active.GetHTML().classList.remove(\"active\");\n        }\n        this.GetHTML().classList.add(\"active\");\n        ChangeColorButton.active = this;\n        this.events.trigger(VideoEvents_1.VideoEventType.ChangeColor, this.color);\n    };\n    ChangeColorButton.prototype.SetColor = function (color) {\n        this.color = color;\n        HTML_1.default.SetAttributes(this.GetHTML(), {\n            class: \"option\",\n            \"data-color\": color.CssValue,\n            style: \"background-color: \" + color.CssValue\n        });\n    };\n    return ChangeColorButton;\n})(BasicElements_1.Button);\nexports.ChangeColorButton = ChangeColorButton;\nvar ChangeBrushSizeButton = (function (_super) {\n    __extends(ChangeBrushSizeButton, _super);\n    function ChangeBrushSizeButton(events, size) {\n        var _this = this;\n        _super.call(this, \"\");\n        this.events = events;\n        this.size = size;\n        var dot = HTML_1.default.CreateElement(\"span\", {\n            style: \"width: \" + size.CssValue + \";\\t\\n\\t\\t\\t\\t\\t\\theight: \" + size.CssValue + \";\\n\\t\\t\\t\\t\\t\\tborder-radius: \" + size.Size / 2 + size.Unit + \"; \\n\\t\\t\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\t\\t\\tbackground: black;\\n\\t\\t\\t\\t\\t\\tmargin-top: \" + -size.Size / 2 + size.Unit + \";\",\n            class: \"dot\",\n            \"data-size\": size.Size\n        });\n        this.GetHTML().appendChild(dot);\n        HTML_1.default.SetAttributes(this.GetHTML(), {\n            class: \"option\",\n            \"data-size\": size.Size\n        });\n        this.GetHTML().onclick = function (e) { return _this.ChangeSize(e); };\n    }\n    ChangeBrushSizeButton.prototype.ChangeSize = function (e) {\n        e.preventDefault();\n        if (!!ChangeBrushSizeButton.active) {\n            ChangeBrushSizeButton.active.GetHTML().classList.remove(\"active\");\n        }\n        this.GetHTML().classList.add(\"active\");\n        ChangeBrushSizeButton.active = this;\n        this.events.trigger(VideoEvents_1.VideoEventType.ChangeBrushSize, this.size);\n    };\n    return ChangeBrushSizeButton;\n})(BasicElements_1.Button);\nexports.ChangeBrushSizeButton = ChangeBrushSizeButton;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/UI/Buttons.ts\n **/","var WacomTablet_1 = require('./WacomTablet');\nvar Pointer_1 = require('./Pointer');\nvar AppleForceTouch_1 = require('./AppleForceTouch');\nvar Touch_1 = require('./Touch');\nfunction selectBestInputMethod(events, board, canvas, timer) {\n    var device;\n    var wacomApi = WacomTablet_1.default.IsAvailable();\n    if (wacomApi !== null) {\n        device = new WacomTablet_1.default(events, board, timer, wacomApi);\n        console.log(\"Wacom WebPAPI is used\");\n    }\n    else if (window.hasOwnProperty(\"PointerEvent\")) {\n        device = new Pointer_1.default(events, board, timer);\n        console.log(\"Pointer Events API is used\");\n    }\n    else if (AppleForceTouch_1.default.isAvailable()) {\n        device = new AppleForceTouch_1.default(events, board, canvas, timer);\n        console.log(\"Apple Force Touch Events over Touch Events API is used\");\n    }\n    else {\n        device = new Touch_1.default(events, board, canvas, timer);\n        console.log(\"Touch Events API are used.\");\n    }\n    device.InitControlsAvoiding();\n    return device;\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = selectBestInputMethod;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/selectBestInputMethod.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Mouse_1 = require('./Mouse');\nvar HTML_1 = require('../Helpers/HTML');\nvar WacomPointerType;\n(function (WacomPointerType) {\n    WacomPointerType[WacomPointerType[\"OutOfProximity\"] = 0] = \"OutOfProximity\";\n    WacomPointerType[WacomPointerType[\"Pen\"] = 1] = \"Pen\";\n    WacomPointerType[WacomPointerType[\"Mouse\"] = 2] = \"Mouse\";\n    WacomPointerType[WacomPointerType[\"Eraseer\"] = 3] = \"Eraseer\";\n})(WacomPointerType || (WacomPointerType = {}));\nvar WacomTablet = (function (_super) {\n    __extends(WacomTablet, _super);\n    function WacomTablet(events, board, timer, penApi) {\n        _super.call(this, events, board, timer);\n        this.penApi = penApi;\n    }\n    WacomTablet.Factory = function (api) {\n        return function (events, board, timer) { return new WacomTablet(events, board, timer, api); };\n    };\n    WacomTablet.prototype.GetPressure = function () {\n        if (this.isDown === false || this.isInside === false) {\n            return 0;\n        }\n        if (this.penApi && this.penApi.pointerType == WacomPointerType.Pen) {\n            return this.isInside === true ? this.penApi.pressure : 0;\n        }\n        else {\n            return _super.prototype.GetPressure.call(this);\n        }\n    };\n    WacomTablet.IsAvailable = function () {\n        var plugin = HTML_1.default.CreateElement(\"object\", { type: \"application/x-wacomtabletplugin\" });\n        document.body.appendChild(plugin);\n        if (!!plugin.version === true) {\n            console.log(\"Wacom tablet is connected and plugin installed. Plugin version is \" + plugin.version + \".\");\n            return plugin.penAPI;\n        }\n        return null;\n    };\n    return WacomTablet;\n})(Mouse_1.default);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = WacomTablet;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/WacomTablet.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PointingDevice_1 = require('./PointingDevice');\nvar Mouse = (function (_super) {\n    __extends(Mouse, _super);\n    function Mouse(events, board, timer) {\n        var _this = this;\n        _super.call(this, events, board, timer);\n        this.board.onmousemove = function (e) { return _this.onMouseMove(e); };\n        this.board.onmousedown = function (e) { return _this.onMouseDown(e); };\n        this.board.onmouseup = function (e) { return _this.onMouseUp(e); };\n        this.board.onmouseleave = function (e) { return _this.onMouseLeave(e); };\n        this.board.onmouseenter = function (e) { return _this.onMouseEnter(e); };\n        this.board.onmouseover = function (e) { return _this.onMouseOver(e); };\n    }\n    Mouse.prototype.InitControlsAvoiding = function () {\n        var _this = this;\n        var controls = document.getElementsByClassName(\"ui-control\");\n        for (var i = 0; i < controls.length; i++) {\n            var element = controls[i];\n            element.onmouseover = function (e) { return _this.isHoveringOverUIControl = true; };\n            element.onmouseout = function (e) { return _this.isHoveringOverUIControl = false; };\n        }\n    };\n    Mouse.prototype.onMouseMove = function (e) {\n        this.onMove(e);\n    };\n    Mouse.prototype.onMouseDown = function (e) {\n        this.onDown(e);\n    };\n    Mouse.prototype.onMouseUp = function (e) {\n        this.onUp(e);\n    };\n    Mouse.prototype.onMouseLeave = function (e) {\n        this.onLeave(e);\n    };\n    Mouse.prototype.onMouseEnter = function (e) {\n        if (e.buttons === 0) {\n            this.isDown = false;\n        }\n    };\n    Mouse.prototype.onMouseOver = function (e) {\n        this.isInside = true;\n    };\n    return Mouse;\n})(PointingDevice_1.default);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Mouse;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/Mouse.ts\n **/","var VideoEvents_1 = require('../Helpers/VideoEvents');\nvar State_1 = require('../Helpers/State');\nvar PointingDevice = (function () {\n    function PointingDevice(events, board, timer) {\n        this.events = events;\n        this.board = board;\n        this.timer = timer;\n        this.isHoveringOverUIControl = false;\n    }\n    PointingDevice.prototype.getCursor = function () { return this.cursor; };\n    PointingDevice.prototype.InitControlsAvoiding = function () {\n        var _this = this;\n        var controls = document.getElementsByClassName(\"ui-control-panel\");\n        for (var i = 0; i < controls.length; i++) {\n            var element = controls[i];\n            element.onmouseover = function (e) { return _this.isHoveringOverUIControl = true; };\n            element.onmouseout = function (e) { return _this.isHoveringOverUIControl = false; };\n        }\n    };\n    PointingDevice.prototype.GetPressure = function () {\n        return (this.isDown === true && this.isInside === true) ? 1 : 0;\n    };\n    PointingDevice.prototype.onMove = function (e) {\n        this.cursor = this.getCursorPosition(e);\n        this.ReportAction();\n    };\n    PointingDevice.prototype.onDown = function (e) {\n        if (this.isHoveringOverUIControl === false) {\n            this.isDown = true;\n            this.cursor = this.getCursorPosition(e);\n            this.ReportAction();\n        }\n    };\n    PointingDevice.prototype.onUp = function (e) {\n        this.isDown = false;\n        this.cursor = this.getCursorPosition(e);\n        this.ReportAction();\n    };\n    PointingDevice.prototype.onLeave = function (e) {\n        if (this.GetPressure() > 0) {\n            this.onMove(e);\n            this.isDown = false;\n            this.onMove(e);\n            this.isDown = true;\n        }\n        this.isInside = false;\n    };\n    PointingDevice.prototype.onOver = function (e) {\n        this.isInside = true;\n    };\n    PointingDevice.prototype.onLooseFocus = function (e) {\n        this.isInside = false;\n        this.isDown = false;\n    };\n    PointingDevice.prototype.getCursorPosition = function (e) {\n        if (e.clientX == undefined || e.clientY == undefined) {\n            console.log(\"Wrong 'getCursorPosition' parameter. Event data required.\");\n        }\n        return {\n            x: e.clientX,\n            y: e.clientY\n        };\n    };\n    PointingDevice.prototype.ReportAction = function () {\n        var state = new State_1.CursorState(this.timer.CurrentTime(), this.cursor.x, this.cursor.y, this.GetPressure());\n        this.events.trigger(VideoEvents_1.VideoEventType.CursorState, state);\n    };\n    return PointingDevice;\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PointingDevice;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/PointingDevice.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PointingDevice_1 = require('./PointingDevice');\nvar PointerEventsAPI = (function (_super) {\n    __extends(PointerEventsAPI, _super);\n    function PointerEventsAPI(events, board, timer) {\n        var _this = this;\n        _super.call(this, events, board, timer);\n        this.board.addEventListener(\"pointermove\", function (e) { return _this.onPointerMove(e); });\n        this.board.addEventListener(\"pointerdown\", function (e) { return _this.onPointerDown(e); });\n        this.board.addEventListener(\"pointerup\", function (e) { return _this.onPointerUp(e); });\n        this.board.addEventListener(\"pointerleave\", function (e) { return _this.onPointerLeave(e); });\n        this.board.addEventListener(\"pointerenter\", function (e) { return _this.onPointerLeave(e); });\n        this.board.addEventListener(\"pointerover\", function (e) { return _this.onPointerOver(e); });\n        this.currentEvent = null;\n        this.isDown = false;\n    }\n    PointerEventsAPI.prototype.GetPressure = function () {\n        if (this.isDown === false || this.currentEvent === null) {\n            return 0;\n        }\n        if (this.currentEvent.pointerType === \"pen\") {\n            return this.currentEvent.pressure;\n        }\n        return 1;\n    };\n    PointerEventsAPI.prototype.InitControlsAvoiding = function () {\n        var _this = this;\n        var controls = document.getElementsByClassName(\"ui-control\");\n        for (var i = 0; i < controls.length; i++) {\n            var element = controls[i];\n            element.onpointerover = function (e) { return _this.isHoveringOverUIControl = true; };\n            element.onpointerout = function (e) { return _this.isHoveringOverUIControl = false; };\n        }\n    };\n    PointerEventsAPI.prototype.onPointerMove = function (e) {\n        this.onMove(e);\n        this.currentEvent = e;\n    };\n    PointerEventsAPI.prototype.onPointerDown = function (e) {\n        this.onDown(e);\n        this.currentEvent = e;\n    };\n    PointerEventsAPI.prototype.onPointerUp = function (e) {\n        this.onUp(e);\n        this.currentEvent = e;\n    };\n    PointerEventsAPI.prototype.onPointerLeave = function (e) {\n        this.onLeave(e);\n        this.currentEvent = e;\n    };\n    PointerEventsAPI.prototype.onPointerEnter = function (e) {\n        if (e.buttons === 0) {\n            this.isDown = false;\n        }\n        this.currentEvent = e;\n    };\n    PointerEventsAPI.prototype.onPointerOver = function (e) {\n        this.isInside = true;\n        this.currentEvent = e;\n    };\n    return PointerEventsAPI;\n})(PointingDevice_1.default);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PointerEventsAPI;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/Pointer.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Touch_1 = require('./Touch');\nvar AppleForceTouch = (function (_super) {\n    __extends(AppleForceTouch, _super);\n    function AppleForceTouch(events, board, canvas, timer) {\n        var _this = this;\n        _super.call(this, events, board, canvas, timer);\n        this.board.onmousemove = function (e) { return _this.checkForce(e.webkitForce); };\n        this.forceLevel = 0;\n    }\n    AppleForceTouch.isAvailable = function () {\n        return \"WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN\" in MouseEvent;\n    };\n    AppleForceTouch.prototype.GetPressure = function () {\n        return this.forceLevel;\n    };\n    AppleForceTouch.prototype.checkForce = function (webkitForce) {\n        this.forceLevel = Math.min(1, webkitForce);\n    };\n    return AppleForceTouch;\n})(Touch_1.default);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = AppleForceTouch;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/AppleForceTouch.ts\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Mouse_1 = require('./Mouse');\nvar TouchEventsAPI = (function (_super) {\n    __extends(TouchEventsAPI, _super);\n    function TouchEventsAPI(events, container, canvas, timer) {\n        var _this = this;\n        _super.call(this, events, container, timer);\n        this.canvas = canvas;\n        canvas.addEventListener(\"touchstart\", function (ev) { return _this.TouchStart(ev); });\n        canvas.addEventListener(\"touchend\", function (ev) { return _this.TouchEnd(ev); });\n        canvas.addEventListener(\"touchcancel\", function (ev) { return _this.TouchEnd(ev); });\n        canvas.addEventListener(\"touchleave\", function (ev) { return _this.TouchLeave(ev); });\n        canvas.addEventListener(\"touchmove\", function (ev) { return _this.TouchMove(ev); });\n    }\n    TouchEventsAPI.prototype.TouchStart = function (event) {\n        event.preventDefault();\n        var touches = event.changedTouches;\n        var touch = touches[0];\n        this.currentTouch = touch.identifier;\n        this.isInside = true;\n        this.isHoveringOverUIControl = false;\n        this.onMouseDown(touch);\n    };\n    TouchEventsAPI.prototype.TouchLeave = function (event) {\n        event.preventDefault();\n        var touch = this.filterTouch(event.changedTouches);\n        if (touch === null) {\n            return;\n        }\n        this.onMouseLeave(touch);\n    };\n    TouchEventsAPI.prototype.TouchEnd = function (event) {\n        var touch = this.filterTouch(event.changedTouches);\n        if (touch === null) {\n            return;\n        }\n        this.onMouseUp(touch);\n        this.currentTouch = null;\n    };\n    TouchEventsAPI.prototype.TouchMove = function (event) {\n        event.preventDefault();\n        var touch = this.filterTouch(event.changedTouches);\n        if (touch === null) {\n            return;\n        }\n        this.onMouseMove(touch);\n    };\n    TouchEventsAPI.prototype.filterTouch = function (touchList) {\n        for (var i = 0; i < touchList.length; i++) {\n            var element = touchList[i];\n            if (element.identifier === this.currentTouch) {\n                return element;\n            }\n        }\n        return null;\n    };\n    return TouchEventsAPI;\n})(Mouse_1.default);\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = TouchEventsAPI;\n\n\n\n/** WEBPACK FOOTER **\n ** ../vector-screencast/~/ts-loader?sourceMap!../vector-screencast/src/lib/VideoData/Touch.ts\n **/"],"sourceRoot":""}